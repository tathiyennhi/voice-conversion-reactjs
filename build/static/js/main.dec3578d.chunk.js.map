{"version":3,"sources":["App.js","index.js"],"names":["App","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","changeTab","tab","setState","activeTab","start","recordState","RecordState","START","pause","PAUSE","stop","STOP","onStop","data","audioData","console","log","handleFileUpload","event","file","target","files","audioDataRef","url","URL","createObjectURL","blob","handleFileUploadSrc","handleUpload","_this$state","state","formData","FormData","append","axios","post","then","response","catch","error","_createClass","key","value","_this2","_this$state2","this","React","createElement","Fragment","className","style","textAlign","onClick","concat","AudioReactRecorder","backgroundColor","id","controls","src","margin","type","accept","onChange","classname","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dec3578d.chunk.js","sourcesContent":["import React from 'react';\nimport AudioReactRecorder, { RecordState } from 'audio-react-recorder';\nimport 'audio-react-recorder/dist/index.css';\nimport './index.css'\nimport axios from 'axios';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeTab: '1',\n      recordState: null,\n      audioData: null,\n      audioDataRef: null\n    };\n  }\n\n  changeTab = (tab) => {\n    this.setState({ activeTab: tab });\n  };\n\n  start = () => {\n    this.setState({\n      recordState: RecordState.START,\n    });\n  };\n\n  pause = () => {\n    this.setState({\n      recordState: RecordState.PAUSE,\n    });\n  };\n\n  stop = () => {\n    this.setState({\n      recordState: RecordState.STOP,\n    });\n  };\n\n  onStop = (data) => {\n    this.setState({\n      audioData: data,\n    });\n    console.log('onStop: audio data', data);\n  };\n\n  handleFileUpload = (event) => {\n    const file = event.target.files[0];\n    const audioDataRef = {\n      url: URL.createObjectURL(file),\n      blob: file,\n    };\n    this.setState({ audioDataRef });\n  };\n\n  handleFileUploadSrc = (event) => {\n    const file = event.target.files[0];\n    const audioData = {\n      url: URL.createObjectURL(file),\n      blob: file,\n    };\n    this.setState({ audioData });\n  };\n\n  handleUpload = () => {\n    const { audioData, audioDataRef } = this.state;\n\n    if (!audioData || !audioDataRef) {\n      console.log('Please record and upload a reference file.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('src_wav', audioData.blob);\n    formData.append('ref_wav', audioDataRef.blob);\n\n    // Replace 'YOUR_API_ENDPOINT' with the actual endpoint where you want to send the audio data.\n    axios.post('http://127.0.0.1:5000/process_audio', formData)\n      .then((response) => {\n        // Handle the response from the server, if needed.\n        console.log('Upload successful', response.data);\n      })\n      .catch((error) => {\n        console.error('Upload failed', error);\n      });\n  };\n\n  render() {\n    const { recordState, activeTab } = this.state;\n    // console.log(recordState);\n    return (\n      <>\n        <div className='App'>\n          <h1>Voice Conversion App</h1>\n\n          <div style={{ textAlign: 'center' }}>\n            <div className=\"tabs\">\n              <button\n                onClick={() => this.changeTab('1')}\n                className={`tab-button ${activeTab === 'src' ? 'active' : ''} custom-button tab-button`}\n              >\n                Recording Voice\n              </button>\n              <button\n                onClick={() => this.changeTab('2')}\n                className={`tab-button ${activeTab === 'ref' ? 'active' : ''} custom-button tab-button`}\n              >\n                File Voice\n              </button>\n            </div>\n\n            {activeTab === '1' && (\n              <>\n                <div style={{ textAlign: 'center' }}>\n                  <h5>Src Voice</h5>\n                  <AudioReactRecorder\n                    state={recordState}\n                    onStop={this.onStop}\n                    backgroundColor='rgb(255,255,255)'\n                  />\n                  <audio\n                    id='audio'\n                    controls\n                    src={this.state.audioData ? this.state.audioData.url : null}\n                  ></audio>\n                  <div style={{ margin: '20px' }} className=\"control-buttons\">\n                    <button id='record' onClick={this.start} className=\"custom-button start-button\">\n                      Bắt đầu\n                    </button>\n                    <button id='pause' onClick={this.pause} className=\"custom-button pause-button\">\n                      Tạm dừng\n                    </button>\n                    <button id='stop' onClick={this.stop} className=\"custom-button stop-button\">\n                      Dừng\n                    </button>\n                  </div>\n                  <div>\n                    <h5>Ref Voice</h5>\n                    <input type='file' accept='audio/wav' onChange={this.handleFileUpload} classname='custom-file-input' />\n                  </div>\n\n                  <button id='submit' onClick={this.handleUpload} className=\"custom-button submit-button\">\n                    Gửi\n                  </button>\n\n                </div>\n              </>\n            )}\n\n            {activeTab === '2' && (\n              <>\n                <div>\n                  <h5>Src Voice</h5>\n                  <input type='file' accept='audio/wav' onChange={this.handleFileUploadSrc} classname='custom-file-input' />\n                </div>\n                <div>\n                  <h5>Ref Voice</h5>\n                  <input type='file' accept='audio/wav' onChange={this.handleFileUpload} classname='custom-file-input' />\n                </div>\n\n                <button id='submit' onClick={this.handleUpload} className=\"custom-button submit-button\">\n                  Gửi\n                </button>\n              </>\n            )}\n\n          </div>\n\n\n\n\n        </div>\n      </>\n\n    );\n  }\n}\n\nexport default App;\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}